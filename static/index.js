!function(t){"use strict";function e(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}"function"==typeof SuppressedError&&SuppressedError;
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
const s=t=>(e,s)=>{void 0!==s?s.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)}
/**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */,i=globalThis,n=i.ShadowRoot&&(void 0===i.ShadyCSS||i.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,r=Symbol(),o=new WeakMap;let a=class{constructor(t,e,s){if(this._$cssResult$=!0,s!==r)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(n&&void 0===t){const s=void 0!==e&&1===e.length;s&&(t=o.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),s&&o.set(e,t))}return t}toString(){return this.cssText}};const h=n?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return(t=>new a("string"==typeof t?t:t+"",void 0,r))(e)})(t):t
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */,{is:c,defineProperty:l,getOwnPropertyDescriptor:d,getOwnPropertyNames:p,getOwnPropertySymbols:u,getPrototypeOf:m}=Object,$=globalThis,f=$.trustedTypes,g=f?f.emptyScript:"",v=$.reactiveElementPolyfillSupport,_=(t,e)=>t,y={toAttribute(t,e){switch(e){case Boolean:t=t?g:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},A=(t,e)=>!c(t,e),w={attribute:!0,type:String,converter:y,reflect:!1,hasChanged:A};Symbol.metadata??=Symbol("metadata"),$.litPropertyMetadata??=new WeakMap;class S extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=w){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const s=Symbol(),i=this.getPropertyDescriptor(t,s,e);void 0!==i&&l(this.prototype,t,i)}}static getPropertyDescriptor(t,e,s){const{get:i,set:n}=d(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return i?.call(this)},set(e){const r=i?.call(this);n.call(this,e),this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??w}static _$Ei(){if(this.hasOwnProperty(_("elementProperties")))return;const t=m(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(_("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(_("properties"))){const t=this.properties,e=[...p(t),...u(t)];for(const s of e)this.createProperty(s,t[s])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,s]of e)this.elementProperties.set(t,s)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const s=this._$Eu(t,e);void 0!==s&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const s=new Set(t.flat(1/0).reverse());for(const t of s)e.unshift(h(t))}else void 0!==t&&e.push(h(t));return e}static _$Eu(t,e){const s=e.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const s of e.keys())this.hasOwnProperty(s)&&(t.set(s,this[s]),delete this[s]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{if(n)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const s of e){const e=document.createElement("style"),n=i.litNonce;void 0!==n&&e.setAttribute("nonce",n),e.textContent=s.cssText,t.appendChild(e)}})(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,s){this._$AK(t,s)}_$EC(t,e){const s=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,s);if(void 0!==i&&!0===s.reflect){const n=(void 0!==s.converter?.toAttribute?s.converter:y).toAttribute(e,s.type);this._$Em=t,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._$Em=null}}_$AK(t,e){const s=this.constructor,i=s._$Eh.get(t);if(void 0!==i&&this._$Em!==i){const t=s.getPropertyOptions(i),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:y;this._$Em=i,this[i]=n.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,s){if(void 0!==t){if(s??=this.constructor.getPropertyOptions(t),!(s.hasChanged??A)(this[t],e))return;this.P(t,e,s)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,s){this._$AL.has(t)||this._$AL.set(t,e),!0===s.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,s]of t)!0!==s.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],s)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}S.elementStyles=[],S.shadowRootOptions={mode:"open"},S[_("elementProperties")]=new Map,S[_("finalized")]=new Map,v?.({ReactiveElement:S}),($.reactiveElementVersions??=[]).push("2.0.4");
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
const b={attribute:!0,type:String,converter:y,reflect:!1,hasChanged:A},C=(t=b,e,s)=>{const{kind:i,metadata:n}=s;let r=globalThis.litPropertyMetadata.get(n);if(void 0===r&&globalThis.litPropertyMetadata.set(n,r=new Map),r.set(s.name,t),"accessor"===i){const{name:i}=s;return{set(s){const n=e.get.call(this);e.set.call(this,s),this.requestUpdate(i,n,t)},init(e){return void 0!==e&&this.P(i,void 0,t),e}}}if("setter"===i){const{name:i}=s;return function(s){const n=this[i];e.call(this,s),this.requestUpdate(i,n,t)}}throw Error("Unsupported decorator location: "+i)};function E(t){return(e,s)=>"object"==typeof s?C(t,e,s):((t,e,s)=>{const i=e.hasOwnProperty(s);return e.constructor.createProperty(s,i?{...t,wrapped:!0}:t),i?Object.getOwnPropertyDescriptor(e,s):void 0})(t,e,s)
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */}function x(t){return E({...t,state:!0,attribute:!1})}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const P=globalThis,U=P.trustedTypes,R=U?U.createPolicy("lit-html",{createHTML:t=>t}):void 0,T="$lit$",k=`lit$${Math.random().toFixed(9).slice(2)}$`,M="?"+k,N=`<${M}>`,O=document,H=()=>O.createComment(""),L=t=>null===t||"object"!=typeof t&&"function"!=typeof t,D=Array.isArray,j="[ \t\n\f\r]",z=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,I=/-->/g,B=/>/g,V=RegExp(`>|${j}(?:([^\\s"'>=/]+)(${j}*=${j}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),q=/'/g,W=/"/g,F=/^(?:script|style|textarea|title)$/i,Z=(t=>(e,...s)=>({_$litType$:t,strings:e,values:s}))(1),J=Symbol.for("lit-noChange"),K=Symbol.for("lit-nothing"),G=new WeakMap,Q=O.createTreeWalker(O,129);function X(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==R?R.createHTML(e):e}const Y=(t,e)=>{const s=t.length-1,i=[];let n,r=2===e?"<svg>":"",o=z;for(let e=0;e<s;e++){const s=t[e];let a,h,c=-1,l=0;for(;l<s.length&&(o.lastIndex=l,h=o.exec(s),null!==h);)l=o.lastIndex,o===z?"!--"===h[1]?o=I:void 0!==h[1]?o=B:void 0!==h[2]?(F.test(h[2])&&(n=RegExp("</"+h[2],"g")),o=V):void 0!==h[3]&&(o=V):o===V?">"===h[0]?(o=n??z,c=-1):void 0===h[1]?c=-2:(c=o.lastIndex-h[2].length,a=h[1],o=void 0===h[3]?V:'"'===h[3]?W:q):o===W||o===q?o=V:o===I||o===B?o=z:(o=V,n=void 0);const d=o===V&&t[e+1].startsWith("/>")?" ":"";r+=o===z?s+N:c>=0?(i.push(a),s.slice(0,c)+T+s.slice(c)+k+d):s+k+(-2===c?e:d)}return[X(t,r+(t[s]||"<?>")+(2===e?"</svg>":"")),i]};class tt{constructor({strings:t,_$litType$:e},s){let i;this.parts=[];let n=0,r=0;const o=t.length-1,a=this.parts,[h,c]=Y(t,e);if(this.el=tt.createElement(h,s),Q.currentNode=this.el.content,2===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(i=Q.nextNode())&&a.length<o;){if(1===i.nodeType){if(i.hasAttributes())for(const t of i.getAttributeNames())if(t.endsWith(T)){const e=c[r++],s=i.getAttribute(t).split(k),o=/([.?@])?(.*)/.exec(e);a.push({type:1,index:n,name:o[2],strings:s,ctor:"."===o[1]?rt:"?"===o[1]?ot:"@"===o[1]?at:nt}),i.removeAttribute(t)}else t.startsWith(k)&&(a.push({type:6,index:n}),i.removeAttribute(t));if(F.test(i.tagName)){const t=i.textContent.split(k),e=t.length-1;if(e>0){i.textContent=U?U.emptyScript:"";for(let s=0;s<e;s++)i.append(t[s],H()),Q.nextNode(),a.push({type:2,index:++n});i.append(t[e],H())}}}else if(8===i.nodeType)if(i.data===M)a.push({type:2,index:n});else{let t=-1;for(;-1!==(t=i.data.indexOf(k,t+1));)a.push({type:7,index:n}),t+=k.length-1}n++}}static createElement(t,e){const s=O.createElement("template");return s.innerHTML=t,s}}function et(t,e,s=t,i){if(e===J)return e;let n=void 0!==i?s._$Co?.[i]:s._$Cl;const r=L(e)?void 0:e._$litDirective$;return n?.constructor!==r&&(n?._$AO?.(!1),void 0===r?n=void 0:(n=new r(t),n._$AT(t,s,i)),void 0!==i?(s._$Co??=[])[i]=n:s._$Cl=n),void 0!==n&&(e=et(t,n._$AS(t,e.values),n,i)),e}class st{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:s}=this._$AD,i=(t?.creationScope??O).importNode(e,!0);Q.currentNode=i;let n=Q.nextNode(),r=0,o=0,a=s[0];for(;void 0!==a;){if(r===a.index){let e;2===a.type?e=new it(n,n.nextSibling,this,t):1===a.type?e=new a.ctor(n,a.name,a.strings,this,t):6===a.type&&(e=new ht(n,this,t)),this._$AV.push(e),a=s[++o]}r!==a?.index&&(n=Q.nextNode(),r++)}return Q.currentNode=O,i}p(t){let e=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class it{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,s,i){this.type=2,this._$AH=K,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=et(this,t,e),L(t)?t===K||null==t||""===t?(this._$AH!==K&&this._$AR(),this._$AH=K):t!==this._$AH&&t!==J&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>D(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==K&&L(this._$AH)?this._$AA.nextSibling.data=t:this.T(O.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:s}=t,i="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=tt.createElement(X(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===i)this._$AH.p(e);else{const t=new st(i,this),s=t.u(this.options);t.p(e),this.T(s),this._$AH=t}}_$AC(t){let e=G.get(t.strings);return void 0===e&&G.set(t.strings,e=new tt(t)),e}k(t){D(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,i=0;for(const n of t)i===e.length?e.push(s=new it(this.S(H()),this.S(H()),this,this.options)):s=e[i],s._$AI(n),i++;i<e.length&&(this._$AR(s&&s._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class nt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,s,i,n){this.type=1,this._$AH=K,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=K}_$AI(t,e=this,s,i){const n=this.strings;let r=!1;if(void 0===n)t=et(this,t,e,0),r=!L(t)||t!==this._$AH&&t!==J,r&&(this._$AH=t);else{const i=t;let o,a;for(t=n[0],o=0;o<n.length-1;o++)a=et(this,i[s+o],e,o),a===J&&(a=this._$AH[o]),r||=!L(a)||a!==this._$AH[o],a===K?t=K:t!==K&&(t+=(a??"")+n[o+1]),this._$AH[o]=a}r&&!i&&this.j(t)}j(t){t===K?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class rt extends nt{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===K?void 0:t}}class ot extends nt{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==K)}}class at extends nt{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}_$AI(t,e=this){if((t=et(this,t,e,0)??K)===J)return;const s=this._$AH,i=t===K&&s!==K||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,n=t!==K&&(s===K||i);i&&this.element.removeEventListener(this.name,this,s),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class ht{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){et(this,t)}}const ct=P.litHtmlPolyfillSupport;ct?.(tt,it),(P.litHtmlVersions??=[]).push("3.1.3");
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
class lt extends S{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,s)=>{const i=s?.renderBefore??e;let n=i._$litPart$;if(void 0===n){const t=s?.renderBefore??null;i._$litPart$=n=new it(e.insertBefore(H(),t),t,void 0,s??{})}return n._$AI(t),n})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return J}}lt._$litElement$=!0,lt.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:lt});const dt=globalThis.litElementPolyfillSupport;dt?.({LitElement:lt}),(globalThis.litElementVersions??=[]).push("4.0.5");const pt=new CSSStyleSheet;pt.replaceSync("html, body {\n    background: var(--neutral-900);\n}");var ut=pt;const mt=new CSSStyleSheet;mt.replaceSync(".wrapper {\n    width: 100%;\n    display: flex;\n    overflow: scroll;\n    align-items: center;\n    padding: 120px 12px 0 12px;\n}\n\n.heading {\n    margin: 0;\n    text-align: center;\n}\n\n.overlay {\n    position: relative;\n    display: flex;\n    width: auto;\n    border: 1px var(--primary-200) solid;\n}\n\n.rooms-wrapper {\n    box-sizing: border-box;\n    padding: 24px;\n    display: flex;\n    gap: 24px;\n    overflow-x: scroll;\n}\n\n.room-item {\n    box-sizing: border-box;\n    box-shadow: var(--shadow-1);\n    filter: grayscale(100%);\n    background: white;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-radius: 8px;\n    padding: 8px;\n    width: 500px;\n    height: auto;\n}\n\n.room-item-wrapper {\n    width: auto;\n    height: auto;\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n    position: relative;\n}\n\n.room-button-wrapper {\n    margin-top: auto;\n}\n\n.button-brand {\n    cursor: pointer;\n    border-radius: 8px;\n    margin: 0;\n    border: none;\n    color: white;\n    width: 100%;\n\n    padding: 12px 20px 12px 20px;\n    background: var(--primary-600);\n}\n\n.button-brand:hover {\n    background: var(--primary-500);\n}\n\n\n\n\n\n");var $t=mt;const ft=new CSSStyleSheet;ft.replaceSync("@keyframes spin {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n.loader {\n    width: 70px;\n    height: 70px;\n    animation: spin 0.5s linear infinite;\n}\n\n.loader-wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    position: fixed;\n    width: 100%;\n    height: 100%;\n\n    h2 {\n        text-align: center;\n    }\n}");var gt=ft;const vt="https://api.nynon.work";let _t=class extends lt{constructor(){super(...arguments),this.rooms=null}connectedCallback(){super.connectedCallback();const t=new URL("/rooms",vt);fetch(t).then((t=>{t.json().then((t=>{this.rooms=t.rooms}))}))}render(){if(null===this.rooms)return Z`
            <div class="loader-wrapper">
                <svg fill="none" height="48" class="loader" viewBox="0 0 48 48" width="48"
                     xmlns="http://www.w3.org/2000/svg">
                    <path d="M48 24C48 28.7468 46.5924 33.3869 43.9553 37.3337C41.3181 41.2805 37.5698 44.3566 33.1844 46.1731C28.799 47.9896 23.9734 48.4649 19.3178 47.5388C14.6623 46.6128 10.3859 44.327 7.02944 40.9706C3.67298 37.6141 1.3872 33.3377 0.461153 28.6822C-0.464892 24.0266 0.0103881 19.201 1.82689 14.8156C3.64339 10.4302 6.71953 6.68188 10.6663 4.04473C14.6131 1.40758 19.2532 -5.66044e-08 24 0V4.8C20.2026 4.8 16.4905 5.92606 13.3331 8.03578C10.1756 10.1455 7.71472 13.1441 6.26151 16.6525C4.80831 20.1608 4.42809 24.0213 5.16892 27.7457C5.90976 31.4702 7.73838 34.8913 10.4235 37.5765C13.1087 40.2616 16.5298 42.0902 20.2543 42.8311C23.9787 43.5719 27.8392 43.1917 31.3475 41.7385C34.8559 40.2853 37.8545 37.8244 39.9642 34.667C42.0739 31.5095 43.2 27.7974 43.2 24H48Z"
                          fill="#8347E0"/>
                </svg>
                <h2>Acquiring rooms info...</h2>
            </div>`;if(0===this.rooms.length)return Z`
            <section class="wrapper">
                <div class="overlay">
                    <h2>Nie ma strumyczka :(</h2>
                </div>
            </section>`;const t=this.rooms.map(((t,e)=>Z`
                <div class="room-item-wrapper">
                    <img src=${yt}
                         class="room-item"/>
                    <h2>Stream #${e}</h2>
                    <div class="room-button-wrapper">
                        <button @click="${()=>{const e=new URLSearchParams;e.set("watch",t),window.location.search=e.toString()}}" class="button-brand">Join Stream</button>
                    </div>
                    </img>
                </div>`));return Z`
            <section class="wrapper">
                <div class="overlay">
                    <div class="rooms-wrapper">
                        ${t}
                    </div>
                </div>
            </section>`}};_t.styles=[$t,gt],e([x()],_t.prototype,"rooms",void 0),_t=e([s("s-rooms")],_t);const yt="https://cdn.discordapp.com/attachments/87143400691728384/1209612644131020881/image.png?ex=6666c74f&is=666575cf&hm=25d9f1580d30456dafedb7814df5ae72ea3bf041d17c9e6775596759c82d6700&",At=new CSSStyleSheet;At.replaceSync(".video {\n    background: var(--neutral-900);\n    box-shadow: var(--shadow-lg);\n    border: 1px black solid;\n}\n\n.video-wrapper {\n    width: 1240px;\n    height: auto;\n\n}");var wt,St=At;function bt(t){switch(t){case wt.LoadingStreamData:return"Acquiring stream data...";case wt.EstablishingRTC:return"Establishing RTC connection...";case wt.LoadingVideo:return"Loading Video...";default:return""}}!function(t){t[t.LoadingStreamData=0]="LoadingStreamData",t[t.EstablishingRTC=1]="EstablishingRTC",t[t.LoadingVideo=2]="LoadingVideo",t[t.Active=3]="Active",t[t.NotFound=4]="NotFound",t[t.UnknownError=5]="UnknownError"}(wt||(wt={}));let Ct=class extends lt{constructor(){super(...arguments),this.streamSate=wt.LoadingStreamData,this.connection=null,this.video=null}async establishRTC(t){try{const e=new RTCPeerConnection;e.ontrack=({track:t,streams:e})=>{this.streamSate=wt.LoadingVideo;const s=document.createElement("video");this.video=s,s.controls=!0,s.className="video",s.width=1240,s.srcObject=e[0],s.onloadeddata=()=>{this.streamSate=wt.Active}},e.onconnectionstatechange=()=>{switch(e.connectionState){case"closed":case"failed":this.streamSate=wt.UnknownError}},await e.setRemoteDescription({sdp:t,type:"offer"}),e.addTransceiver("audio",{direction:"recvonly"}),e.addTransceiver("video",{direction:"recvonly"});const s=await e.createAnswer();await e.setLocalDescription(s)}catch(t){this.streamSate=wt.UnknownError}}connectedCallback(){super.connectedCallback(),async function(t){const e=new URL("whep",vt);return e.searchParams.set("target_id",t),await fetch(e).then((t=>t.text()))}(this.streamID).then((t=>this.establishRTC(t))).catch((()=>{this.streamSate=wt.NotFound}))}render(){var t;switch(this.streamSate){case wt.LoadingStreamData:case wt.EstablishingRTC:case wt.LoadingVideo:return Z`
                    <div class="loader-wrapper">
                        <svg fill="none" height="48" class="loader" viewBox="0 0 48 48" width="48"
                             xmlns="http://www.w3.org/2000/svg">
                            <path d="M48 24C48 28.7468 46.5924 33.3869 43.9553 37.3337C41.3181 41.2805 37.5698 44.3566 33.1844 46.1731C28.799 47.9896 23.9734 48.4649 19.3178 47.5388C14.6623 46.6128 10.3859 44.327 7.02944 40.9706C3.67298 37.6141 1.3872 33.3377 0.461153 28.6822C-0.464892 24.0266 0.0103881 19.201 1.82689 14.8156C3.64339 10.4302 6.71953 6.68188 10.6663 4.04473C14.6131 1.40758 19.2532 -5.66044e-08 24 0V4.8C20.2026 4.8 16.4905 5.92606 13.3331 8.03578C10.1756 10.1455 7.71472 13.1441 6.26151 16.6525C4.80831 20.1608 4.42809 24.0213 5.16892 27.7457C5.90976 31.4702 7.73838 34.8913 10.4235 37.5765C13.1087 40.2616 16.5298 42.0902 20.2543 42.8311C23.9787 43.5719 27.8392 43.1917 31.3475 41.7385C34.8559 40.2853 37.8545 37.8244 39.9642 34.667C42.0739 31.5095 43.2 27.7974 43.2 24H48Z"
                                  fill="#8347E0"/>
                        </svg>
                        <h2>${bt(this.streamSate)}</h2>
                    </div>
                `;case wt.NotFound:return Z`
                    <div class="loader-wrapper">
                        <h2>404 Stream not found :(</h2>
                    </div>
                `;case wt.UnknownError:return Z`
                    <div class="loader-wrapper">
                        <h2>500 Stream error :(</h2>
                    </div>
                `;case wt.Active:return null===(t=this.renderRoot.querySelector("#wrapper"))||void 0===t||t.appendChild(this.video),Z`
                    <div id="wrapper" class="loader-wrapper">
                        <div class="video-wrapper">
                            ${this.video}
                        </div>
                    </div>
                `}}};Ct.styles=[gt,St],e([E()],Ct.prototype,"streamID",void 0),e([x()],Ct.prototype,"streamSate",void 0),e([x()],Ct.prototype,"connection",void 0),e([x()],Ct.prototype,"video",void 0),Ct=e([s("s-stream")],Ct),t.Main=class extends lt{constructor(){super(...arguments),this.search=window.location.search}render(){const t=new URLSearchParams(window.location.search).get("watch");return t?Z`
            <s-stream streamID=${t}></s-stream>`:Z`
            <s-rooms></s-rooms>`}},t.Main.styles=ut,e([E()],t.Main.prototype,"search",void 0),t.Main=e([s("s-main")],t.Main)}({});
